{% extends "base.html" %}
{% block content %}
<div class="container">
<form method="POST">
    {% for params_row in params_general %}
    <div class="row">
        {% for param in params_row %}
        <div class="col-sm-4">
            <div class="form-group">
            <label>{{param.replace('_',' ').capitalize()}}</label>
            <input type="text" class="form-control" id="{{param}}" 
            name="{{param}}" placeholder="e.g. 1000">
            </div>
        </div>
        {% endfor %}
    </div>
    {% endfor %}
    {% if params_TE %}
    <div class="row">
        <div class="col-sm-4">
            <div class="form-check">
                <label class="form-check-label">
                <input type="checkbox" class="foo form-check-input"
                id="TEparams" onchange="showDIV('TE-params-set')" >
                Enable transposable elements dynamics
                </label>
            </div>
        </div>
    </div>
    <div id="TE-params-set" style="display: none">
    {% for params_row in params_TE %}
    <div class="row">
        {% for param in params_row %}
        <div class="col-sm-4">
            <div class="form-group">
            <label>{{param.replace('TE_','').replace('_',' ').capitalize()}}</label>
            <input type="text" class="form-control" id="{{param}}" name="{{param}}" value="0" placeholder="e.g. 1000">
            </div>
        </div>
        {% endfor %}
    </div>
    {% endfor %}
    </div>
    {% endif %}
<button type="submit" class="btn btn-primary">Submit</button>
</form> 

<h2> Latest tasks </h2>
<table class = "table table-hover">
  <thead>
    <tr>
    {% for name in names %} 
      <th> {{name.replace('_',' ').capitalize()}} </th>
    {% endfor %}    
    </tr>
  </thead>
  {% for task in tasks_list %}
  <tbody>
    <tr> 
    {% for val in task.values() %}
      <td> {{val}} </td>
    {% endfor %}
      <td> <a href="results/{{task.id}}">See results</a></td>
    </tr>
  {% endfor %}
  </tbody>
</table>

</div>
{% endblock %}
